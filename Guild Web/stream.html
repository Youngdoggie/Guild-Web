<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Good Night - Stream</title>
    <link rel="icon" type="image/png" href="Image/logo.ico">
    <link rel="stylesheet" href="styles.css">
    <script src="https://player.twitch.tv/js/embed/v1.js"></script>
</head>
<body>
    <header id="navbar">
        <div class="logo">
            <img src="Image/logo.png" alt="Good Night Logo" width="100" height="100">
            <h1><span>GOOD NIGHT</span></h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="who-we-are.html">Who we are</a></li>
                <li><a href="team.html">Team</a></li>
                <li><a href="stream.html">Stream</a></li>
            </ul>
        </nav>
        <div class="header-right">
            <div class="social-icons">
                <a href="https://www.twitch.tv/sensationshc" target="_blank" class="icon twitch"><img src="Image/twitch.png" alt="Twitch"></a>
                <a href="https://discord.gg/kw3B7B9D" target="_blank" class="icon discord"><img src="Image/discord.jpg" alt="Discord"></a>
                <a href="https://www.youtube.com/channel/UCRWUuNpeO6OELMBDoGjG1JA" target="_blank" class="icon youtube"><img src="Image/youtube_icon.png" alt="YouTube"></a>
                <a href="https://www.warcraftlogs.com/guild/us/malganis/gn" target="_blank" class="icon WCL"><img src="Image/WoW_icon.svg.png" alt="WCL"></a>
            </div>
            <div class="cta">
                <a href="https://forms.gle/xqh4f8AohnYUcF1x9" class="button" target="_blank">Join Us</a>
            </div>
        </div>
    </header>
    
    <main>
        <section class="stream">
            <h2>GN Main Stream</h2>
        </section>
        <section class="twitch-stream">
            <div class="twitch-container">
                <div class="twitch-video">
                    <iframe
                    src="https://player.twitch.tv/?channel=sensationshc&parent=localhost"
                        height="500"
                        width="800"
                        frameborder="0"
                        scrolling="no"
                        allowfullscreen="true">
                    </iframe>
                </div>
                <div class="twitch-chat">
                    <iframe
                    src="https://www.twitch.tv/embed/sensationshc/chat?parent=localhost"
                        height="500"
                        width="350"
                        frameborder="0"
                        scrolling="no">
                    </iframe>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="footer-content">
            <p>&copy; 2024 <span>Good Night</span>. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Wait for the DOM content to be fully loaded before executing the script
        document.addEventListener("DOMContentLoaded", function() {
            // Get the current page's file name from the URL path
            var path = window.location.pathname;
            var page = path.split("/").pop();

            // Select all anchor tags inside the navigation menu
            var navLinks = document.querySelectorAll('nav ul li a');

            // Loop through each navigation link
            navLinks.forEach(function(link) {
                // Check if the link's href attribute matches the current page
                if (link.getAttribute('href') === page) {
            // Add the 'active' class to the matching link
                    link.classList.add('active');
                }
            });
        });

        // Add an event listener to the window object to detect scroll events
        window.addEventListener('scroll', function() {
            // Get the navbar element by its ID
            var header = document.getElementById('navbar');
            // Get the initial position of the navbar
            var sticky = header.offsetTop;

            // If the page is scrolled beyond the navbar's initial position
            if (window.pageYOffset > sticky) {
                // Add the 'sticky' class to the navbar
                header.classList.add('sticky');
            } else {
                // Remove the 'sticky' class when scrolled back to the top
                header.classList.remove('sticky');
            }
        });

        // Initialize the Twitch Player with the provided options
        var options = {
            width: 800, // Set the player width
            height: 500, // Set the player height
            channel: "sensationshc", // The Twitch channel to display
            parent: ["localhost", "127.0.0.1"] // Allowed parent domains for embedding
        };
        
        // Create the Twitch Player using the options
        var player = new Twitch.Player("TwitchPlayerDiv", options);
        
        // Set the player volume to 50%
        player.setVolume(0.5);

        // Play the video automatically
        player.play();

        // Pause the video (this can be triggered by user actions, etc.)
        player.pause();
        </script>
</body>
</html>

